"use strict";var gameEngine={ele:null,bullets:[],enemys:[],totalSroce:0,init:function(){return this.ele=document.getElementById("main"),this},start:function(){console.log("游戏开始"),this.loadding(function(){myPlane.init().move(),myPlane.fire(),gameEngine.createEnemy(),gameEngine.crashListening()})},loadding:function(e){var n=document.createElement("div");gameEngine.ele.appendChild(n),n.className="logo";var a=document.createElement("div");gameEngine.ele.appendChild(a),a.className="load";var t=["images2/loading1.png","images2/loading2.png","images2/loading3.png"],i=0,l=setInterval(function(){++i>=6?(clearInterval(l),gameEngine.ele.removeChild(n),gameEngine.ele.removeChild(a),e&&e()):a.style.background="url("+t[i%3]+") no-repeat"},500)},createEnemy:function(){setInterval(function(){Math.random()>.5&&new Enemy(Enemy.prototype.ENEMY_TYPE_LARGE).init().move()},6e3),setInterval(function(){Math.random()>.5&&new Enemy(Enemy.prototype.ENEMY_TYPE_MIDDLE).init().move()},4e3),setInterval(function(){Math.random()>.5&&new Enemy(Enemy.prototype.ENEMY_TYPE_SMALL).init().move()},2e3)},crashListening:function(){var e=setInterval(function(){for(var n=0;n<gameEngine.enemys.length;n++)for(var a=0;a<gameEngine.bullets.length;a++)if(isCrash(gameEngine.enemys[n].ele,gameEngine.bullets[a].ele)&&(gameEngine.bullets[a].boom(),gameEngine.bullets.splice(a--,1),gameEngine.enemys[n].hurt()),isCrash(gameEngine.enemys[n].ele,myPlane.ele)){clearInterval(e),myPlane.boom(),console.log("Game Over!");break}},30)}};